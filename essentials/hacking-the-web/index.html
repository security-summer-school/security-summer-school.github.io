<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Security Summer School</title><meta name=description content="Introduction
Last session we learned how browsers work, what HTTP and HTML are and how to use curl and wget to imitate a browser.
Today we&rsquo;ll …"><meta property="og:title" content><meta property="og:description" content="Introduction Last session we learned how browsers work, what HTTP and HTML are and how to use curl and wget to imitate a browser. Today we&rsquo;ll dive deeper into the inner workings of browsers. Specifically, we will:
 learn how to use the developer tools to inspect the requests it makes learn what cookies are learn how to use them from the command line learn how to write Python scripts that send HTTP requests  Reminders and Prerequisites Remember these concepts from the previous session:"><meta property="og:type" content="article"><meta property="og:url" content="/essentials/hacking-the-web/"><meta property="article:section" content="essentials"><meta property="og:site_name" content="Security Summer School"><meta itemprop=name content><meta itemprop=description content="Introduction Last session we learned how browsers work, what HTTP and HTML are and how to use curl and wget to imitate a browser. Today we&rsquo;ll dive deeper into the inner workings of browsers. Specifically, we will:
 learn how to use the developer tools to inspect the requests it makes learn what cookies are learn how to use them from the command line learn how to write Python scripts that send HTTP requests  Reminders and Prerequisites Remember these concepts from the previous session:"><meta itemprop=wordCount content="2725"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Introduction Last session we learned how browsers work, what HTTP and HTML are and how to use curl and wget to imitate a browser. Today we&rsquo;ll dive deeper into the inner workings of browsers. Specifically, we will:
 learn how to use the developer tools to inspect the requests it makes learn what cookies are learn how to use them from the command line learn how to write Python scripts that send HTTP requests  Reminders and Prerequisites Remember these concepts from the previous session:"><link rel=preload href=/scss/main.min.959cc3579647d04265a1bb70b679a0771e7f7f7050bd3a694c2edd07f32972ca.css as=style><link href=/scss/main.min.959cc3579647d04265a1bb70b679a0771e7f7f7050bd3a694c2edd07f32972ca.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="text-uppercase font-weight-bold">Security Summer School</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/binary/><span>Binary Exploitation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/essentials/><span class=active>Security Essentials</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/web/><span>Web Security</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-essentials-li><a href=/essentials/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-essentials><span>Security Essentials</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialswelcome-to-linux-li><a href=/essentials/welcome-to-linux/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialswelcome-to-linux><span>01. Welcome to Linux</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialssystem-exploration-li><a href=/essentials/system-exploration/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialssystem-exploration><span>02. System Exploration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsexplaining-the-internet-li><a href=/essentials/explaining-the-internet/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsexplaining-the-internet><span>03. Explaining the Internet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsrediscovering-the-browser-li><a href=/essentials/rediscovering-the-browser/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsrediscovering-the-browser><span>04. (Re)Discovering the Browser</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-essentialshacking-the-web-li><a href=/essentials/hacking-the-web/ title class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-essentialshacking-the-web><span class=td-sidebar-nav-active-item>05. Hacking the Web</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsdata-representation-li><a href=/essentials/data-representation/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsdata-representation><span>06. Data Representation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsdata-security-li><a href=/essentials/data-security/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsdata-security><span>07. Data Security</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsapplication-lifetime-li><a href=/essentials/application-lifetime/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsapplication-lifetime><span>08. Application Lifetime</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsbinary-analysis-li><a href=/essentials/binary-analysis/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsbinary-analysis><span>09. Binary Analysis</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialsassembly-language-li><a href=/essentials/assembly-language/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialsassembly-language><span>10. Assembly Language</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialstaming-the-stack-li><a href=/essentials/taming-the-stack/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialstaming-the-stack><span>11. Taming the Stack</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialscontributing-li><a href=/essentials/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialscontributing><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-essentialscopying-li><a href=/essentials/copying/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-essentialscopying><span></span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/security-summer-school/security-summer-school.github.io/edit/master/content/en/essentials/hacking-the-web/index.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/security-summer-school/security-summer-school.github.io/new/master/content/en/essentials/hacking-the-web/index.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/security-summer-school/security-summer-school.github.io/issues/new?title=" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/security-summer-school/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=/essentials/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#what-are-cookies>What are Cookies?</a></li><li><a href=#developer-tools>Developer Tools</a><ul><li><a href=#inspector>Inspector</a></li><li><a href=#console>Console</a></li><li><a href=#debugger>Debugger</a></li><li><a href=#network>Network</a></li><li><a href=#storage>Storage</a></li></ul></li><li><a href=#cookies-from-the-cli>Cookies from the CLI</a></li></ul><ul><li><ul><li><a href=#sessions-in-the-cli>Sessions in the CLI</a></li><li><a href=#sessions-in-python>Sessions in Python</a></li></ul></li></ul><ul><li><a href=#directory-buster-dirb>DIRectory Buster (DIRB)</a></li></ul><ul><li><a href=#tutorial---chef-hacky-mchack>Tutorial - Chef Hacky McHack</a><ul><li><a href=#virgin-from-the-browser>Virgin: From the Browser</a></li><li><a href=#chad-v1-from-the-cli>Chad v1: From the CLI</a></li><li><a href=#chad-v2-from-python>Chad v2: From Python</a></li><li><a href=#challenge-beep-beep-boop>Challenge: Beep Beep Boop</a></li><li><a href=#challenge-colours>Challenge: Colours</a></li><li><a href=#challenge-great-names>Challenge: Great Names</a></li><li><a href=#challenge-nobody-loves-me>Challenge: Nobody Loves Me</a></li><li><a href=#challenge-one-by-one>Challenge: One-by-One</a></li><li><a href=#challenge-produce-consume>Challenge: Produce-Consume</a></li><li><a href=#challenge-traverse-the-universe>Challenge: Traverse the Universe</a></li></ul></li></ul><ul><li><a href=#cookie-theft--session-hijacking>Cookie Theft / Session Hijacking</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/essentials/>Security Essentials</a></li><li class="breadcrumb-item active" aria-current=page><a href=/essentials/hacking-the-web/>05. Hacking the Web</a></li></ol></nav><div class=td-content><h1></h1><header class=article-meta></header><h1 id=introduction>Introduction</h1><p><a href=../rediscovering-the-browser/>Last session</a> we learned how browsers work, what HTTP and HTML are and how to use <code>curl</code> and <code>wget</code> to imitate a browser.
Today we&rsquo;ll dive deeper into the inner workings of browsers.
Specifically, we will:</p><ul><li>learn how to use the developer tools to inspect the requests it makes</li><li>learn what cookies are</li><li>learn how to use them from the command line</li><li>learn how to write Python scripts that send HTTP requests</li></ul><h1 id=reminders-and-prerequisites>Reminders and Prerequisites</h1><p>Remember these concepts from the <a href=../rediscovering-the-browser/>previous session</a>:</p><ul><li>by default, HTTP is a <strong>stateless</strong> protocol.
Every request is independent from any other</li><li>HTTP supports fixed methods, such as <code>GET</code>, <code>PUT</code>, <code>POST</code> etc.</li><li>HTTP servers respond with status codes and, optionally, data.</li><li>web browsers such as Firefox are HTTP clients</li><li><code>curl</code> and <code>wget</code> are used to send HTTP requests and to download files, respectively</li></ul><p>For this session, you need:</p><ul><li>a working internet connection</li><li>basic knowledge of the HTTP protocol</li><li>a Linux machine</li><li>a Firefox browser</li><li>a Python interpreter (at least Python3.6)</li></ul><h1 id=sending-http-requests-from-python>Sending HTTP Requests from Python</h1><p>The module we need in order to handle requests in Python is called <code>requests</code>.
It contains methods for all types of HTTP requests: <code>GET</code>, <code>POST</code>, etc.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>requests</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>req</span>

<span style=color:#000>URL</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;https://httpbin.org&#39;</span>

<span style=color:#8f5902;font-style:italic># Send a `GET` request.</span>
<span style=color:#8f5902;font-style:italic># `params` is a dictionary of query parameters.</span>
<span style=color:#8f5902;font-style:italic># `response` is an object.</span>
<span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>req</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#39;</span><span style=color:#4e9a06>{</span><span style=color:#000>URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/get&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>params</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#39;SSS&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;role&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#39;boss&#39;</span><span style=color:#000;font-weight:700>})</span>
<span style=color:#8f5902;font-style:italic># This request is equivalent to:</span>
<span style=color:#8f5902;font-style:italic># GET URL?name=SSS?role=boss</span>

<span style=color:#8f5902;font-style:italic># We must access its fields to gain specific information.</span>
<span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>status_code</span><span style=color:#000;font-weight:700>)</span>  <span style=color:#8f5902;font-style:italic># The status code returned by the server</span>
<span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>text</span><span style=color:#000;font-weight:700>)</span>  <span style=color:#8f5902;font-style:italic># The HTML sent by the server</span>

<span style=color:#000>payload</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;skill&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#39;infinite&#39;</span><span style=color:#000;font-weight:700>}</span>
<span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>req</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#39;</span><span style=color:#4e9a06>{</span><span style=color:#000>URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/post&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>payload</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><h1 id=cookies>Cookies</h1><p>HTTP is a stateless protocol used to communicate over the internet.
This means that a request is not aware of any of the previous ones and each request is executed independently.
Given its stateless nature, simple mechanisms such as HTTP cookies were created to overcome the issue.</p><p>An HTTP cookie (also called web cookie, Internet cookie, browser cookie, or simply cookie) is a small piece of data sent from a website and stored on the user&rsquo;s computer by the user&rsquo;s web browser while the user is browsing.
Cookies were designed to be a reliable mechanism for websites to remember stateful information (such as items added in the shopping cart in an online store) or to record the user&rsquo;s browsing activity (including clicking particular buttons, logging in, or recording which pages were visited in the past).
They can also be used to remember pieces of information that the user previously entered into form fields, such as names, addresses, passwords, and credit card numbers.</p><p><img src=./assets/cookies.png alt=Cookies></p><p>They are like ID cards for websites.
If a browser sends a certain cookie to a web server, the server deduces the identity of said client from that cookie, without requiring authentication.
This can pose problems from a security perspective.
For more details, check the section about <a href=#cookie-theft--session-hijacking>cookie theft and session hijacking</a>.</p><h2 id=what-are-cookies>What are Cookies?</h2><p>A cookie is a key-value pair stored in a text file on the user’s computer.
This file can be found, for example, at the following path on a Linux system using Firefox:</p><pre><code>~/.mozilla/firefox/&lt;some_random_characters&gt;.default-release/cookies.sqlite
</code></pre><p>As the file name implies, Firefox stores cookies in an SQLite database.</p><p>An example of cookies set for a website could be:</p><ul><li><code>username=admin</code></li><li><code>cookie_consent=1</code></li><li><code>theme=dark</code></li></ul><p>The first cookie stores the username, so it can be displayed to the user without querying the database.
The second one stores the choice made by the user regarding their concent to receive cookies, so the application does not continue to show that annoying message every time.
Finally, the third one stores which theme was selected (in this case, a dark theme).</p><p>Once a cookie has been set, the browser will send the cookie information in all subsequent HTTP requests until the cookie is deleted.
Cookies also have various attributes:</p><ul><li><code>Domain</code> and <code>Path</code>: define the scope of the cookies.
These attributes tell the browser what website they belong to.</li><li><code>Secure</code>: defines that cookies should only be sent using secure channels such as HTTPS.</li><li><code>Expires</code>: specifies when the cookie is to be deleted.
All cookies have a maximum lifespan, after which they must be erased by the browser, for security.
That why if you haven&rsquo;t logged on a website for a long time, you will be logged out.<ul><li>Alternatively, the<code>Max-Age</code> attribute can be used to state the number of seconds after the cookie is to be deleted.</li></ul></li></ul><h2 id=developer-tools>Developer Tools</h2><p>All modern browsers have the ability to assist developers in creating, previewing, testing and debugging their web applications.
This ability comes in the form of the <strong>Developer Tools</strong> suite.
You can open the Developer Tools by pressing either <code>F12</code> or <code>Ctrl + Shift + c</code> when browsing through a website.</p><p><img src=./assets/developer-tools.png alt="Developer Tools - First Sight"></p><h3 id=inspector>Inspector</h3><p>The first &ldquo;tab&rdquo; we see in the Developer Tools is called <em>Inspector</em>.
It displays the HTML source of the page we are viewing.
This structure is called the <a href=../explaining-the-internet#the-document-object-model-dom>Document Object Model</a>.
We can even modify the content of the HTML document</p><p><img src=./assets/inspector-modify-title.png alt="Modified Title"></p><p>Of course, this modification is only visible to me because I&rsquo;m modifying my local copy of the <code>index.html</code> file.</p><h3 id=console>Console</h3><p>This tab is pretty straightforward.
It is a shell in which we can write JavaScript code.</p><p><img src=./assets/console.png alt=Console></p><h3 id=debugger>Debugger</h3><p>This tab displays all the files loaded by the web page and allows you to run the JavaScript code step by step.
Hence its name: <em>Debugger</em></p><h4 id=sources>Sources</h4><p>The &ldquo;Sources&rdquo; sub-tab of the &ldquo;Debugger&rdquo; tab shows the hierarchical structure of all files used by the web page.
These files can be HTML files, CSS files images, videos, JavaScript files, anything.</p><p><img src=./assets/debugger-sources.png alt="Debugger - Source"></p><p>Notice the file <code>(index)</code> is actually the same we saw in <a href=#inspector>Inspector</a>.</p><h3 id=network>Network</h3><p><img src=./assets/network.png alt=Network></p><p>The network tab shows detailed information about every file loaded and every request and response made by the page.
Notice the sub-tabs to the right.
here you can find in-depth information about the HTTP requests, such as HTTP parameters, HTTP methods (<code>GET</code>, <code>POST</code> etc.), HTTP status codes (200, 404, 500, etc.), loading time and size of each loaded element (image, script, etc).
Furthermore, clicking on one of the requests there, you can see the headers, the preview, the response (as raw content) and others.
This is useful for listing all the resources needed by a page, such as if there are any requests to APIs, additional scripts loaded, etc.</p><p>Here we can also see the cookies sent with each request.</p><p><img src=./assets/network-cookies.png alt="Network - Cookies"></p><h3 id=storage>Storage</h3><p>Viewing cookies in the &ldquo;Network&rdquo; tab is fine, but that only gives us their value.
If we want to see all their attributes <strong>and change their value</strong>, we need to go over to the &ldquo;Storage&rdquo; tab.</p><p><img src=./assets/_ga-cookie.png alt=Storage></p><p>Let&rsquo;s take a closer look at one cookie called <code>_ga</code>.
It comes form &ldquo;Google Analytics&rdquo;.
This is a service provided by Google that <strong>definitely does not spy on users</strong>, but it uses <a href=https://developers.google.com/analytics/devguides/collection/gtagjs/cookie-usage#gtagjs_google_analytics_4_-_cookie_usage>cookies like this one</a> to give website owners statistics about their visitors.
So it&rsquo;s literally spying and tracking users' behaviour.</p><p>Let&rsquo;s troll them by modifying their cookie
Its contents are explained <a href=https://stackoverflow.com/a/16107194>here</a>.
But we&rsquo;re just going to mess with it.</p><p><img src=./assets/_ga-cookie-modified.png alt="Storage - Modified"></p><p>There!
We showed Big Tech not to mess with us!</p><h2 id=cookies-from-the-cli>Cookies from the CLI</h2><p>We&rsquo;re going to use our old friend <code>curl</code>.
To set a cookie we simply use the <code>-b</code> parameter like so:</p><pre><code>root@kali:~# curl -b 'something=nothing' -b 'something_else=still_nothing' $URL
</code></pre><h1 id=http-sessions>HTTP Sessions</h1><p>Some websites use sessions to remember their clients across multiple requests.
These sessions are essentially IDs with which the server identifies clients.
For example, PHP uses a cookie called <code>PHPSESSID</code>.
It contains a random large number.</p><p>Sessions are usually short-lived, which makes them ideal for storing temporary states between pages.
Sessions also expire once the user closes his browser or after a predefined amount of time (for example, 30 minutes).</p><p>The basic workflow is:</p><ol><li>The server starts a new session (sets a cookie via the HTTP <code>Cookie</code> header).</li><li>The server sets a new session variable (stored on the server-side).</li><li>When the client changes the page, it sends all the cookies in the request, along with the session ID from step 1.</li><li>The server reads the session ID from the cookie.</li><li>The server matches the session ID with the entries of a local list (in-memory, text file etc.).</li><li>If the server finds a match, it reads the stored variables.
For PHP, these variables will become available in the superglobal variable <code>$_SESSION</code>.</li><li>If the server doesn&rsquo;t find a match, it will create a new session and repeat steps 1-6.</li></ol><p><img src=./assets/session.jpg alt="Session lifecycle"></p><p>Example of a session in PHP (running on the server):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#ce5c00;font-weight:700>&lt;?</span><span style=color:#000>php</span>
    <span style=color:#000>session_start</span><span style=color:#000;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>// Start the session
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>$_SESSION</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;username&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;John Doe&#34;</span><span style=color:#000;font-weight:700>;</span> 
    <span style=color:#000>$_SESSION</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;is_admin&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#204a87;font-weight:700>echo</span> <span style=color:#4e9a06>&#34;Hello &#34;</span> <span style=color:#ce5c00;font-weight:700>.</span> <span style=color:#000>$_SESSION</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;username&#39;</span><span style=color:#000;font-weight:700>];</span>
<span style=color:#8f5902;font-style:italic>?&gt;</span><span style=color:#a40000>
</span></code></pre></div><h3 id=sessions-in-the-cli>Sessions in the CLI</h3><p>Guess who&rsquo;s back?
<code>curl</code>, of course.
We can save the cookies sent by a server in a <strong>cookie jar</strong>.
Remember this concept.
Python uses it too.
It&rsquo;s not too sophisticated, either.
A cookie jar is a file that contains cookies.</p><p>To save the cookies in a file, we use the <code>-c &lt;file name></code> option</p><pre><code>root@kali:~# curl -c cookies.txt $URL
[...]

root@kali:~# cat cookies.txt
# Netscape HTTP Cookie File
# https://curl.haxx.se/docs/http-cookies.html
# This file was generated by libcurl! Edit at your own risk.

sample.domain.com	FALSE	/	FALSE	1656864260	something	nothing
</code></pre><p>Each entry in a cookies file represents a cookie.
Its layout is:</p><pre><code>&lt;domain&gt; &lt;include subdomains&gt; &lt;path&gt; &lt;HTTPS only&gt; &lt;expires at&gt; &lt;cookie name&gt; &lt;cookie value&gt;
</code></pre><p>We are free to modify this cookies file however we want.
As you can see, this file has a very specific format.
It&rsquo;s better to let <code>curl</code> generate it first to make sure it&rsquo;s correct and only then edit it ourselves.
Then, in order to use these cookies in a subsequent request, we use the <code>-b</code> parameter:</p><pre><code>root@kali:~# curl -b cookies.txt $URL
</code></pre><p>Notice it&rsquo;s the same parameter we used to <a href=#cookies-from-the-cli>send cookies manually</a>.
When the argument is a file, <code>curl</code> reads the cookies form the file.
Otherwise, it reads them from the argument itself as strings.</p><h3 id=sessions-in-python>Sessions in Python</h3><p>In order to send HTTP requests in Python, we can import the <code>requests</code> module.
Then, we simply create a session object which we then use to send requests.
This object also maintains the session cookies.
They are accessible via <code>session.cookies</code>.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#000>s</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Session</span><span style=color:#000;font-weight:700>()</span>

<span style=color:#8f5902;font-style:italic># Set the value of the `something` cookie to `nothing`.</span>
<span style=color:#000>s</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>cookies</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;something&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;nothing&#39;</span><span style=color:#000;font-weight:700>)</span>

<span style=color:#8f5902;font-style:italic># Send a `GET` request with the above cookie.</span>
<span style=color:#000>s</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#a40000>$</span><span style=color:#000>URL</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><h1 id=path-traversal>Path Traversal</h1><p>Every request asks for a file.
Remember <code>GET /path/to/file</code>.
Even <code>GET /</code> implicitly asks for <code>index.html</code> or <code>index.php</code>.</p><p>If the application does not verify the parameter, an attacker might be able to exploit the application and display an arbitrary file from the target system.
Normally an attacker would try to access sensitive files containing passwords or configurations in order to gain access to the system.
Remember that PHP scripts aren&rsquo;t normally visible by the client.</p><p>Below is an example of a vulnerability where an attacker can leak PHP scripts:
Consider the following URL:</p><pre><code>http://somesite.com/view.php?file=image.jpg
</code></pre><p>What if the attacker could query the website using <code>view.php</code> as parameter?</p><pre><code>http://somesite.com/view.php?file=view.php
</code></pre><p>This would be too easy.
Sometimes, images are stored in different directories than application files.
So our attacker should query the server like with a link like this one:</p><pre><code>http://somesite.com/view.php?file=../../view.php
</code></pre><p>If they manage to view <code>view.php</code>, then it is likely they can access any file on the system, such as <code>/etc/passwd</code>, using this query:</p><pre><code>http://somesite.com/view.php?file=/etc/passwd
</code></pre><p>This kind of situation when an attacker can freely access files on the server is called a <strong>path traversal attack</strong>.
To fix this, applications should always validate user input and ensure the path they request is within a safe folder to which they have access.</p><h2 id=directory-buster-dirb>DIRectory Buster (DIRB)</h2><p>There may be other files stored on the server that aren&rsquo;t accessible from the entry point web page.
It is difficult to search for such pages manually.
Luckily there are tools that can help us with this.
One of them is <strong>DIRectory Buster</strong>, or <code>dirb</code> in short.
It simply queries a web server for many files <strong>fast</strong>.
All you need to do is to give it a list of files for which to search.</p><p>Here&rsquo;s how to run it:</p><pre><code>root@kali:~# dirb &lt;URL&gt; wordlist.txt
</code></pre><p>A good starting point for wordlists are the lists <a href=https://github.com/danielmiessler/SecLists/tree/master/Discovery/Web-Content>here</a>, particularly those named <code>raft-large-*.txt</code>:</p><ul><li><code>raft-large-files.txt</code> for files, duh&mldr;</li><li><code>raft-large-directories.txt</code> for directories</li></ul><p><code>dirb</code> works by issuing lots of <code>GET</code> requests, one for each file in its wordlist.
If a request receives a 404 response, the file doesn&rsquo;t exist.
Otherwise, it does (except for 500 responses, in which case the request is resent).
Even a 403 response is alright.
It just means that a regular user doesn&rsquo;t have access to that file.</p><p>Here&rsquo;s what <code>dirb</code> + <a href=https://github.com/danielmiessler/SecLists><code>SecLists</code></a> look like:</p><pre><code>root@kali:~# dirb http://example.com ~/SecLists/Discovery/Web-Content/raft-large-files.txt 
[...]                                                       
---- Scanning URL: http://example.com/ ----
+ http://example.com/index.html (CODE:200|SIZE:1256)                                                                                                                                                                                         
+ http://example.com/. (CODE:200|SIZE:1256)                                                                                                                                                                                                  
+ http://example.com/extension.inc (CODE:403|SIZE:345)  
[...] 
</code></pre><h1 id=summary>Summary</h1><p>The key takeaways from this session are:</p><ul><li>HTTP cookies are used to make the protocol stateful.
You can pass them with <code>curl</code> by using the <code>-b</code> parameter</li><li>Sessions are cookies used to identify a client.
Both <code>curl</code> and Python can account for sessions:<ul><li><code>curl</code> does so by saving and loading them from a cookie file with the <code>-c</code> and <code>-c</code> parameters, respectively</li><li>Python uses a <code>Session</code> object that stores cookies internally</li></ul></li><li>In path traversal attacks hackers can access files they shouldn&rsquo;t be allowed to by specifying the path to them<ul><li>A very useful tool for testing the existence of additional files is <code>dirb</code>.</li></ul></li><li>One of the most widely used repositories of lists of common names / passwords / anything is <a href=https://github.com/danielmiessler/SecLists>SecLists</a>.
Use it any time.</li></ul><h1 id=activities>Activities</h1><h2 id=tutorial---chef-hacky-mchack>Tutorial - Chef Hacky McHack</h2><p>We&rsquo;ll solve this task in 3 ways: from the browser, from the CLI and using Python.
That good we are!</p><h3 id=virgin-from-the-browser>Virgin: From the Browser</h3><p>We visit to the URL, open the Developer Tools and go over to the &ldquo;Storage&rdquo; tab.
There we see the server has given ass the cookie <code>u=guest</code>.</p><p><img src=./assets/hacky-mchack-cookies.png alt="Hacky McHack - Initial Cookie"></p><p>Since the challenge is called &ldquo;Hacky McHack&rdquo; we set the cookie value to <code>hacky mchack</code>.
We notice a new tab has appeared at the top of the page or by inspecting the HTML source: <strong>Manage</strong> (<code>/manage.php</code>).
We click on it and get the flag.</p><pre><code>&lt;ul class=&quot;nav-menu list-unstyled&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;index.php&quot; class=&quot;smoothScroll&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#about&quot; class=&quot;smoothScroll&quot;&gt;About&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#portfolio&quot; class=&quot;smoothScroll&quot;&gt;Portfolio&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#journal&quot; class=&quot;smoothScroll&quot;&gt;Blog&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#contact&quot; class=&quot;smoothScroll&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;manage.php&quot; class=&quot;smoothScroll&quot;&gt;Manage&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
</code></pre><h3 id=chad-v1-from-the-cli>Chad v1: From the CLI</h3><p>We use our good friend <code>curl</code>.
First, we save the cookies from the initial page into a cookie jar.</p><pre><code>root@kali:~# curl -c cookies.txt http://141.85.224.70:8010
[...]

root@kali:~# cat cookies.txt
# Netscape HTTP Cookie File
# https://curl.haxx.se/docs/http-cookies.html
# This file was generated by libcurl! Edit at your own risk.

http://141.85.224.70:8010	FALSE	/	FALSE	1656864260	u	guest
</code></pre><p>Now we edit the file and replace <code>guest</code> with <code>hacky mchack</code> and send a <code>GET</code> request to <code>/manage.php</code>.</p><pre><code>root@kali:~# sed -i s/guest/hacky\ mchack/ cookies.txt

root@kali:~# curl -b cookies.txt $URL/manage.php
</code></pre><p>If we didn&rsquo;t want to use the cookie jar, we could have simply looked at the headers sent by the server then sent the cookie &ldquo;manually&rdquo;:</p><pre><code>root@kali:~# curl -v $URL &gt; /dev/null  # we don't care about the output
[...]
&lt; HTTP/1.1 200 OK
&lt; Date: Sun, 03 Jul 2022 16:10:51 GMT
&lt; Server: Apache/2.4.38 (Debian)
&lt; X-Powered-By: PHP/7.2.34
&lt; Set-Cookie: u=guest; expires=Sun, 03-Jul-2022 16:11:51 GMT; Max-Age=60

root@kali:~# curl -b 'u=hacky mchack' $URL/manage.php  # Notice the Set-Cookie field above
&lt;here we get the flag&gt;
</code></pre><h3 id=chad-v2-from-python>Chad v2: From Python</h3><p>Simply create a <code>Session</code> object, set the cookie <code>u</code> to <code>hacky mchack</code>, then send a <code>GET</code> request to the <code>/manage.php</code> endpoint.</p><h3 id=challenge-beep-beep-boop>Challenge: Beep Beep Boop</h3><p>Look for hidden files on the web server.</p><h3 id=challenge-colours>Challenge: Colours</h3><p>Indices go brrrrrrr.</p><h3 id=challenge-great-names>Challenge: Great Names</h3><p>Do you know these great explorers?</p><h3 id=challenge-nobody-loves-me>Challenge: Nobody Loves Me</h3><p>Whom do you call?</p><h3 id=challenge-one-by-one>Challenge: One-by-One</h3><p>One by one by one by one by one&mldr;</p><h3 id=challenge-produce-consume>Challenge: Produce-Consume</h3><p>What does the server produce exactly?</p><h3 id=challenge-traverse-the-universe>Challenge: Traverse the Universe</h3><p>Explore new ~planets~ files.</p><h1 id=further-reading>Further Reading</h1><h2 id=cookie-theft--session-hijacking>Cookie Theft / Session Hijacking</h2><p>Enter Facebook then close the tab.
Next time you won&rsquo;t be asked to login.
This is because Facebook has given you a session ID with which you no longer need to log in.
It would be a pity if an attacker stole your ID.
This is what&rsquo;s called <strong>cookie theft</strong> or <strong>session Hijacking</strong>.</p><p>It&rsquo;s a pretty common attack that mostly requires the user to click on a malicious link that leads to a webpage whose JavaScript code reads the victim&rsquo;s cookies.
Following this attack, hackers can impersonate you wherever you were logged in.</p><p><a href=https://www.venafi.com/blog/what-session-hijacking>Here</a> are more ways in which your session can be stolen.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/security-summer-school/security-summer-school.github.io/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/security-summer-school/security-summer-school.github.io/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top"></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://bit.ly/DiscordSecuritySummerSchool aria-label=Discord><i class="fab fa-discord"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Facebook aria-label=Facebook><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/SSSUPB/ aria-label=Facebook><i class="fab fa-facebook"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank rel=noopener href=https://bit.ly/YoutubeSecuritySummerSchool aria-label=Youtube><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/security-summer-school aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Open-Source Contributors. All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><script src=/js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js integrity="sha256-XHS4cMaVOTGnBfOQpJx+TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin=anonymous></script></body></html>